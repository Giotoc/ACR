<?xml version="1.0" encoding="UTF-8"?>
<view>
	<inputs>
		<input name="offset" default="0"/>
		<input name="limit" default="10"/>
	</inputs>
	<conditions>

	</conditions>
	<actions>
		<action name="news" component="database">
			<output>
				<asnode>content</asnode>
			</output>
			select title,lang,date_trunc('minute',create_date) as create_date,modification_date,content from news where draft is false ORDER BY create_date DESC offset {$offset} limit {$limit}
		</action>
		<action component="storage">
			<set type="request" name="quantity" lang="sql">
				select count(id) from news
			</set>
		</action>
		<action name="newsPars" component="xml">
			<offset>{$offset}</offset>
			<limit>{$limit}</limit>
			<quantity>{$quantity}</quantity>
		</action>
	</actions>
</view>
